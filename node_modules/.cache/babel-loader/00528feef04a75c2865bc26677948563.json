{"ast":null,"code":"import _objectSpread from\"C:/wamp64/www/tienda-martinez/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:/wamp64/www/tienda-martinez/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import ItemList from\"./dummyComponents/ItemList\";import{useParams}from\"react-router-dom\";import{database}from\"../../firebase/firebase\";import{jsx as _jsx}from\"react/jsx-runtime\";export var ItemListContainer=function ItemListContainer(){// Hook useState\nvar _useState=useState([]),_useState2=_slicedToArray(_useState,2),watchesToShow=_useState2[0],setWatchesToShow=_useState2[1];// Parámetros que recibo por url\nvar _useParams=useParams(),categoryId=_useParams.categoryId;// useEffect de Firebase\nuseEffect(function(){var itemsCollection=database.collection(\"products\");// Filtrado por marcas\nvar filterItems=function filterItems(){var filteredCollection=itemsCollection.where(\"brand\",\"==\",categoryId);filteredCollection.get().then(function(querySnapshot){var filteredItems=querySnapshot.docs.map(function(element){return _objectSpread(_objectSpread({},element.data()),{},{id:element.id});});setWatchesToShow(filteredItems);});};// Listar productos\nvar items=function items(){itemsCollection.get().then(function(querySnapshot){if(querySnapshot.size===0){alert(\"No hay resultados\");}var items=querySnapshot.docs.map(function(element){return _objectSpread(_objectSpread({},element.data()),{},{id:element.id});});setWatchesToShow(items);});};//\ncategoryId===undefined?items():filterItems();},[categoryId]);return/*#__PURE__*/_jsx(\"div\",{className:\"main\",children:/*#__PURE__*/_jsx(ItemList,{watchesToShow:watchesToShow})});};export default ItemListContainer;","map":{"version":3,"sources":["C:/wamp64/www/tienda-martinez/src/views/ItemListContainer/ItemListContainer.jsx"],"names":["React","useState","useEffect","ItemList","useParams","database","ItemListContainer","watchesToShow","setWatchesToShow","categoryId","itemsCollection","collection","filterItems","filteredCollection","where","get","then","querySnapshot","filteredItems","docs","map","element","data","id","items","size","alert","undefined"],"mappings":"uSAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,QAAP,KAAqB,4BAArB,CACA,OAASC,SAAT,KAA0B,kBAA1B,CACA,OAASC,QAAT,KAAyB,yBAAzB,C,2CAEA,MAAO,IAAMC,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,EAAM,CACrC;AACA,cAA0CL,QAAQ,CAAC,EAAD,CAAlD,wCAAOM,aAAP,eAAsBC,gBAAtB,eAEA;AACA,eAAuBJ,SAAS,EAAhC,CAAQK,UAAR,YAAQA,UAAR,CAEA;AACAP,SAAS,CAAC,UAAM,CACd,GAAMQ,CAAAA,eAAe,CAAGL,QAAQ,CAACM,UAAT,CAAoB,UAApB,CAAxB,CAEA;AACA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CACxB,GAAMC,CAAAA,kBAAkB,CAAGH,eAAe,CAACI,KAAhB,CACzB,OADyB,CAEzB,IAFyB,CAGzBL,UAHyB,CAA3B,CAMAI,kBAAkB,CAACE,GAAnB,GAAyBC,IAAzB,CAA8B,SAACC,aAAD,CAAmB,CAC/C,GAAMC,CAAAA,aAAa,CAAGD,aAAa,CAACE,IAAd,CAAmBC,GAAnB,CAAuB,SAACC,OAAD,CAAa,CACxD,sCAAYA,OAAO,CAACC,IAAR,EAAZ,MAA4BC,EAAE,CAAEF,OAAO,CAACE,EAAxC,GACD,CAFqB,CAAtB,CAGAf,gBAAgB,CAACU,aAAD,CAAhB,CACD,CALD,EAMD,CAbD,CAeA;AACA,GAAMM,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,EAAM,CAClBd,eAAe,CAACK,GAAhB,GAAsBC,IAAtB,CAA2B,SAACC,aAAD,CAAmB,CAC5C,GAAIA,aAAa,CAACQ,IAAd,GAAuB,CAA3B,CAA8B,CAC5BC,KAAK,CAAC,mBAAD,CAAL,CACD,CACD,GAAMF,CAAAA,KAAK,CAAGP,aAAa,CAACE,IAAd,CAAmBC,GAAnB,CAAuB,SAACC,OAAD,CAAa,CAChD,sCAAYA,OAAO,CAACC,IAAR,EAAZ,MAA4BC,EAAE,CAAEF,OAAO,CAACE,EAAxC,GACD,CAFa,CAAd,CAGAf,gBAAgB,CAACgB,KAAD,CAAhB,CACD,CARD,EASD,CAVD,CAYA;AACAf,UAAU,GAAKkB,SAAf,CAA2BH,KAAK,EAAhC,CAAqCZ,WAAW,EAAhD,CACD,CAlCQ,CAkCN,CAACH,UAAD,CAlCM,CAAT,CAoCA,mBACE,YAAK,SAAS,CAAC,MAAf,uBACE,KAAC,QAAD,EAAU,aAAa,CAAEF,aAAzB,EADF,EADF,CAKD,CAjDM,CAkDP,cAAeD,CAAAA,iBAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport ItemList from \"./dummyComponents/ItemList\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { database } from \"../../firebase/firebase\";\r\n\r\nexport const ItemListContainer = () => {\r\n  // Hook useState\r\n  const [watchesToShow, setWatchesToShow] = useState([]);\r\n\r\n  // Parámetros que recibo por url\r\n  const { categoryId } = useParams();\r\n\r\n  // useEffect de Firebase\r\n  useEffect(() => {\r\n    const itemsCollection = database.collection(\"products\");\r\n\r\n    // Filtrado por marcas\r\n    const filterItems = () => {\r\n      const filteredCollection = itemsCollection.where(\r\n        \"brand\",\r\n        \"==\",\r\n        categoryId\r\n      );\r\n\r\n      filteredCollection.get().then((querySnapshot) => {\r\n        const filteredItems = querySnapshot.docs.map((element) => {\r\n          return { ...element.data(), id: element.id };\r\n        });\r\n        setWatchesToShow(filteredItems);\r\n      });\r\n    };\r\n\r\n    // Listar productos\r\n    const items = () => {\r\n      itemsCollection.get().then((querySnapshot) => {\r\n        if (querySnapshot.size === 0) {\r\n          alert(\"No hay resultados\");\r\n        }\r\n        const items = querySnapshot.docs.map((element) => {\r\n          return { ...element.data(), id: element.id };\r\n        });\r\n        setWatchesToShow(items);\r\n      });\r\n    };\r\n\r\n    //\r\n    categoryId === undefined ? items() : filterItems();\r\n  }, [categoryId]);\r\n\r\n  return (\r\n    <div className=\"main\">\r\n      <ItemList watchesToShow={watchesToShow} />\r\n    </div>\r\n  );\r\n};\r\nexport default ItemListContainer;\r\n"]},"metadata":{},"sourceType":"module"}