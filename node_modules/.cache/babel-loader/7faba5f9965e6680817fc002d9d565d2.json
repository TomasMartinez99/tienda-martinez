{"ast":null,"code":"import _objectSpread from\"C:/wamp64/www/tienda-martinez/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:/wamp64/www/tienda-martinez/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useContext,useState,useEffect}from\"react\";import{CartContext}from\"../../context/CartContext\";import CartDetail from\"./CartDetail\";import{Form}from\"./Form\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export var CartItems=function CartItems(){var _useContext=useContext(CartContext),aggregateItems=_useContext.aggregateItems;var _useContext2=useContext(CartContext),clear=_useContext2.clear;var _useState=useState(0),_useState2=_slicedToArray(_useState,2),total=_useState2[0],setTotal=_useState2[1];// Hook para calcular el total de los items\nuseEffect(function(){// Uso del método \"reduce\"\nvar res=aggregateItems.reduce(function(accumulator,item){return accumulator+item.smartwatch.price*item.itemCount;},0);setTotal(res);},[aggregateItems]);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"cart\",children:aggregateItems.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"carritoVacio\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"No hay art\\xEDculos agregados al carrito\"}),/*#__PURE__*/_jsx(\"h4\",{children:\"\\xA1Muchos productos te esperan!\"})]}):/*#__PURE__*/ // Recorrer y mostrar array con relojes\n_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-12 col-md-6 itemsDetail\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Mi carrito\"}),aggregateItems.map(function(smartwatchAndCount){return/*#__PURE__*/_jsx(CartDetail,_objectSpread({},smartwatchAndCount),smartwatchAndCount.smartwatch.id);}),/*#__PURE__*/_jsxs(\"div\",{className:\"clearAndTotal\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-danger\",onClick:function onClick(){return clear();},children:\"Vaciar carrito\"}),/*#__PURE__*/_jsxs(\"h3\",{className:\"total\",children:[\"Total: $\",total]})]})]}),/*#__PURE__*/_jsx(\"section\",{className:\"col-12 col-md-6 form\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"userInfo\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Mis Datos\"}),/*#__PURE__*/_jsx(Form,{aggregateItems:aggregateItems,itemsPrice:total,clear:clear})]})})]})})});};export default CartItems;","map":{"version":3,"sources":["C:/wamp64/www/tienda-martinez/src/components/cart/CartItems.jsx"],"names":["React","useContext","useState","useEffect","CartContext","CartDetail","Form","CartItems","aggregateItems","clear","total","setTotal","res","reduce","accumulator","item","smartwatch","price","itemCount","length","map","smartwatchAndCount","id"],"mappings":"uSAAA,MAAOA,CAAAA,KAAP,EAAgBC,UAAhB,CAA4BC,QAA5B,CAAsCC,SAAtC,KAAuD,OAAvD,CACA,OAASC,WAAT,KAA4B,2BAA5B,CACA,MAAOC,CAAAA,UAAP,KAAuB,cAAvB,CACA,OAASC,IAAT,KAAqB,QAArB,C,6IAEA,MAAO,IAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,EAAM,CAC7B,gBAA2BN,UAAU,CAACG,WAAD,CAArC,CAAQI,cAAR,aAAQA,cAAR,CACA,iBAAkBP,UAAU,CAACG,WAAD,CAA5B,CAAQK,KAAR,cAAQA,KAAR,CACA,cAA0BP,QAAQ,CAAC,CAAD,CAAlC,wCAAOQ,KAAP,eAAcC,QAAd,eAEA;AACAR,SAAS,CAAC,UAAM,CACd;AACA,GAAMS,CAAAA,GAAG,CAAGJ,cAAc,CAACK,MAAf,CAAsB,SAACC,WAAD,CAAcC,IAAd,CAAuB,CACvD,MAAOD,CAAAA,WAAW,CAAGC,IAAI,CAACC,UAAL,CAAgBC,KAAhB,CAAwBF,IAAI,CAACG,SAAlD,CACD,CAFW,CAET,CAFS,CAAZ,CAGAP,QAAQ,CAACC,GAAD,CAAR,CACD,CANQ,CAMN,CAACJ,cAAD,CANM,CAAT,CAQA,mBACE,sCACE,YAAK,SAAS,CAAC,MAAf,UACGA,cAAc,CAACW,MAAf,GAA0B,CAA1B,cACC,aAAK,SAAS,CAAC,cAAf,wBACE,gEADF,cAEE,wDAFF,GADD,eAMC;AACA,aAAK,SAAS,CAAC,KAAf,wBACE,aAAK,SAAS,CAAC,6BAAf,wBACE,kCADF,CAGGX,cAAc,CAACY,GAAf,CAAmB,SAACC,kBAAD,qBAClB,KAAC,UAAD,kBAEMA,kBAFN,EACOA,kBAAkB,CAACL,UAAnB,CAA8BM,EADrC,CADkB,EAAnB,CAHH,cASE,aAAK,SAAS,CAAC,eAAf,wBACE,eACE,SAAS,CAAC,wBADZ,CAEE,OAAO,CAAE,yBAAMb,CAAAA,KAAK,EAAX,EAFX,4BADF,cAOE,YAAI,SAAS,CAAC,OAAd,sBAA+BC,KAA/B,GAPF,GATF,GADF,cAqBE,gBAAS,SAAS,CAAC,sBAAnB,uBACE,aAAK,SAAS,CAAC,UAAf,wBACE,iCADF,cAEE,KAAC,IAAD,EACE,cAAc,CAAEF,cADlB,CAEE,UAAU,CAAEE,KAFd,CAGE,KAAK,CAAED,KAHT,EAFF,GADF,EArBF,GARJ,EADF,EADF,CA8CD,CA5DM,CA8DP,cAAeF,CAAAA,SAAf","sourcesContent":["import React, { useContext, useState, useEffect } from \"react\";\r\nimport { CartContext } from \"../../context/CartContext\";\r\nimport CartDetail from \"./CartDetail\";\r\nimport { Form } from \"./Form\";\r\n\r\nexport const CartItems = () => {\r\n  const { aggregateItems } = useContext(CartContext);\r\n  const { clear } = useContext(CartContext);\r\n  const [total, setTotal] = useState(0);\r\n\r\n  // Hook para calcular el total de los items\r\n  useEffect(() => {\r\n    // Uso del método \"reduce\"\r\n    const res = aggregateItems.reduce((accumulator, item) => {\r\n      return accumulator + item.smartwatch.price * item.itemCount;\r\n    }, 0);\r\n    setTotal(res);\r\n  }, [aggregateItems]);\r\n\r\n  return (\r\n    <>\r\n      <div className=\"cart\">\r\n        {aggregateItems.length === 0 ? (\r\n          <div className=\"carritoVacio\">\r\n            <h3>No hay artículos agregados al carrito</h3>\r\n            <h4>¡Muchos productos te esperan!</h4>\r\n          </div>\r\n        ) : (\r\n          // Recorrer y mostrar array con relojes\r\n          <div className=\"row\">\r\n            <div className=\"col-12 col-md-6 itemsDetail\">\r\n              <h2>Mi carrito</h2>\r\n              {/* Recorrer el array con los items agregados al carrito */}\r\n              {aggregateItems.map((smartwatchAndCount) => (\r\n                <CartDetail\r\n                  key={smartwatchAndCount.smartwatch.id}\r\n                  {...smartwatchAndCount}\r\n                />\r\n              ))}\r\n              <div className=\"clearAndTotal\">\r\n                <button\r\n                  className=\"btn btn-outline-danger\"\r\n                  onClick={() => clear()}\r\n                >\r\n                  Vaciar carrito\r\n                </button>\r\n                <h3 className=\"total\">Total: ${total}</h3>\r\n              </div>\r\n            </div>\r\n\r\n            <section className=\"col-12 col-md-6 form\">\r\n              <div className=\"userInfo\">\r\n                <h2>Mis Datos</h2>\r\n                <Form\r\n                  aggregateItems={aggregateItems}\r\n                  itemsPrice={total}\r\n                  clear={clear}\r\n                />\r\n              </div>\r\n            </section>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default CartItems;\r\n"]},"metadata":{},"sourceType":"module"}